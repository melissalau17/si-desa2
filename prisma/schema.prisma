generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  user_id    Int     @id @default(autoincrement())
  NIK        String  @unique
  nama       String
  no_hp      String
  jenis_kel  String
  alamat     String
  agama      String
  username   String
  email      String?
  password   String
  photo      Bytes?
  role       String  @default("penduduk")

  @@map("user")
}

model Keuangan {
 keuangan_id     Int    @id @default(autoincrement())
 jenisTransaksi  String
 keterangan      String
 kategori        String
 tanggal         DateTime
 jumlah          Decimal @db.Decimal(15, 2)
 catatan         String

 @@map("keuangan")
}

model Berita {
   berita_id   Int    @id @default(autoincrement())
 judul  String
 kategori        String
 photo      Bytes?
 tanggal         String?
 kontent   String
 status         String

 @@map("berita")
}

model Laporan {
   laporan_id Int     @id @default(autoincrement())
  nama       String
  keluhan    String
  deskripsi  String
  photo      Bytes?
  tanggal    String?
  lokasi     String
  vote       Int? @default(0)
  status     String

  @@map("laporan")
}

model Surat {
  surat_id           Int      @id @default(autoincrement())
  nama               String
  nik                String
  tempat_lahir       String?
  tanggal_lahir      DateTime?
  jenis_kelamin      String?
  agama              String?
  alamat             String
  jenis_surat        String
  tujuan_surat       String?
  no_hp              String?
  email              String?
  photo_ktp          Bytes?
  photo_kk           Bytes?
  foto_usaha         Bytes?
  waktu_kematian     String?
  gaji_ortu          Bytes?
  tanggal         DateTime   @default(now())
  status             String?   @default("Menunggu")

  @@map("surat")
}
